[
  {
    "role": "system",
    "content": "You are an expert R programmer and instructor. You are helping the user write course materials for a course on R programming."
  },
  {
    "role": "user",
    "content": "Please create a set of exercises for the following lesson. Include 1 exercise for each section of the lesson and 3-5 exercises the cover material from multiple sections of the lesson. This last set of exercises should reinforce what was learned in multiple sections of this lesson. The content of course is:\n\n# Lesson 5: Plotting with ggplot2\n\nIn this lesson, we will learn how to create publication-quality graphics in R using the `ggplot2` package. `ggplot2` is a powerful visualization library that allows us to create a wide range of plots, such as scatter plots, line charts, bar charts, and histograms. We will also explore how to customize the appearance of plots and generate multiple conditional plots using facets.\n\nAt the end of this lesson, you will be able to:\n\n- Make basic plots like scatter plots, line charts, bar charts, and histograms using `ggplot2`.\n- Customize the appearance of plots by modifying colors, labels, titles, legends, and other visual elements.\n- Use facets to generate multiple plots conditioned on variables.\n\n## Introduction to ggplot2\n\n`ggplot2` is a popular data visualization package in R created by Hadley Wickham. It follows a layered approach to creating plots, allowing you to build and modify plots incrementally. \n\nThe basic syntax of a `ggplot2` plot consists of three main components:\n\n- Data: The dataset that contains the variables you want to plot.\n- Aesthetics (aes): The mapping between variables in the dataset and visual properties of the plot, such as position, color, and size.\n- Geometries (geoms): The type of plot you want to create, such as points, lines, bars, or areas.\n\nLet's start by creating a simple scatter plot using the `ggplot2` syntax:\n\n```R\nlibrary(ggplot2)\n\n# Load the dataset\ndata <- read.csv(\"data/chicago_air.csv\")\n\n# Create a scatter plot\nggplot(data, aes(x = temp, y = ozone)) +\n  geom_point()\n```\n\nIn this example, we use the `ggplot()` function to specify the dataset `data` and the `aes()` function to map the variables `temp` and `ozone` to the x and y axes, respectively. The `geom_point()` function is used to add the points to the plot.\n\n## Basic Visualization Types\n\n`ggplot2` provides a wide range of geoms to create different types of plots. Let's explore a few examples:\n\n### Scatter Plot\n\nTo create a scatter plot, use the `geom_point()` function:\n\n```R\nggplot(data, aes(x = temp, y = ozone)) +\n  geom_point()\n```\n\n![scatter_plot](images/scatter_plot.png)\n\n### Line Chart\n\nTo create a line chart, use the `geom_line()` function:\n\n```R\nggplot(data, aes(x = date, y = ozone)) +\n  geom_line()\n```\n\n![line_chart](images/line_chart.png)\n\n### Bar Chart\n\nTo create a bar chart, use the `geom_bar()` function:\n\n```R\nggplot(data, aes(x = month, fill = factor(month))) +\n  geom_bar()\n```\n\n![bar_chart](images/bar_chart.png)\n\n### Histogram\n\nTo create a histogram, use the `geom_histogram()` function:\n\n```R\nggplot(data, aes(x = ozone)) +\n  geom_histogram()\n```\n\n![histogram](images/histogram.png)\n\n## Customizing Plots\n\n`ggplot2` provides a wide range of options to customize the appearance of your plots. You can modify colors, labels, titles, legends, and other visual elements to make your plots more informative and visually appealing.\n\n### Themes\n\nYou can apply different themes to your plots to change the overall appearance. `ggplot2` provides several built-in themes, such as `theme_bw()`, `theme_classic()`, and `theme_minimal()`. You can apply a theme by adding it to your plot using the `+` operator.\n\n```R\nggplot(data, aes(x = temp, y = ozone)) +\n  geom_point() +\n  theme_bw()\n```\n\n### Axis Labels\n\nYou can add labels to the x and y axes using the `xlab()` and `ylab()` functions.\n\n```R\nggplot(data, aes(x = temp, y = ozone)) +\n  geom_point() +\n  xlab(\"Temperature\") +\n  ylab(\"Ozone\")\n```\n\n### Legends\n\nTo add a legend to your plot, use the `labs()` function and specify the `fill` or `color` argument with the desired label.\n\n```R\nggplot(data, aes(x = month, fill = factor(month))) +\n  geom_bar() +\n  labs(fill = \"Month\")\n```\n\nYou can also modify the position, title, and appearance of the legend using the `theme()` function.\n\n### Titles\n\nTo add a title to your plot, use the `ggtitle()` function.\n\n```R\nggplot(data, aes(x = temp, y = ozone)) +\n  geom_point() +\n  ggtitle(\"Temperature vs. Ozone\")\n```\n\n## Conditional Plots with Facets\n\nFacets allow you to generate multiple plots conditioned on variables in your dataset. This is useful when you want to compare subsets of your data or visualize relationships across different groups.\n\nTo use facets, you can add the `facet_wrap()` or `facet_grid()` function to your plot.\n\n### `facet_wrap()`\n\nThe `facet_wrap()` function creates multiple plots arranged in a \"wrap\" layout. It takes in a formula specifying the variables to be used for conditioning.\n\n```R\nggplot(data, aes(x = temp, y = ozone)) +\n  geom_point() +\n  facet_wrap(~ month)\n```\n\nThis will create a separate plot for each month of the year.\n\n### `facet_grid()`\n\nThe `facet_grid()` function creates multiple plots arranged in a grid layout. It takes in two formulas specifying the variables to be used for conditioning on the rows and columns, respectively.\n\n```R\nggplot(data, aes(x = temp, y = ozone)) +\n  geom_point() +\n  facet_grid(month ~ weekday)\n```\n\nThis will create a grid of plots, with each row representing a month and each column representing a weekday.\n\n## Summary\n\nIn this lesson, we learned how to create plots using the `ggplot2` package in R. We explored different types of plots such as scatter plots, line charts, bar charts, and histograms. We also learned how to customize the appearance of plots by modifying various visual elements. Finally, we learned how to use facets to generate multiple plots conditioned on variables. With these capabilities, we can create professional-quality graphics to visualize and communicate our data effectively.\n\n## Up Next\n\nIn the next lesson, we will learn how to calculate common descriptive and inference statistics in R using base R functions. We will explore how to calculate summary statistics, generate confidence intervals, and perform statistical tests such as t-tests and ANOVA analysis. Get ready to dive into the world of statistics in R!\n\n"
  }
]